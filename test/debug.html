<html>
    <head>
        <link rel="stylesheet" href="/test/debug.css" />
        <script type="module">
            import { querySelector, addEventListener } from '/references/abstract-dom.js';
            import { Quantum, defineElement, template } from '/source/main.js';

            class Test extends Quantum {
                constructor() {
                    super(template('<div></div>'));
                }

                static attributes = {
                    test: shadow => value => shadow.label.innerText = value
                };

                static events = {
                    raise: (shadow, dispatch) => shadow.label.onclick = dispatch
                }

                initializeShadowCallback(shadow) {
                    shadow.label = querySelector(shadow, 'div');
                    super.initializeShadowCallback(shadow);
                }
            }

            defineElement(Test);

            const element = querySelector(document, 'quantum-test');
            addEventListener(element, 'raise', console.log);
            element.test = 'success';
        </script>
    </head>
    <body>
        <quantum-test></quantum-test>
    </body>
</html>